{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyFolder\\\\VisualStudioCode\\\\Project\\\\Web\\\\bccinema\\\\frontend\\\\src\\\\components\\\\MovieList\\\\MovieList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport \"./MovieList.css\";\nimport { FaPlay, FaTicketAlt, FaChevronLeft, FaChevronRight, FaTimes } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MovieList() {\n  _s();\n  const [films, setFilms] = useState([]);\n  const [offsetIndex, setOffsetIndex] = useState(0); // index inside extended array\n  const [isAnimating, setIsAnimating] = useState(true); // control css transition on track\n  const [showModal, setShowModal] = useState(false);\n  const [modalUrl, setModalUrl] = useState(\"\");\n  const viewportRef = useRef(null);\n  const trackRef = useRef(null);\n  const itemsPerPage = 5;\n  const gap = 20; // must match .movie-track { gap: 20px; }\n  const [itemWidth, setItemWidth] = useState(220);\n\n  // load films\n  useEffect(() => {\n    fetch(\"http://localhost:5000/films\").then(r => r.json()).then(data => setFilms(data || [])).catch(e => console.error(e));\n  }, []);\n\n  // compute itemWidth based on viewport and gap\n  useEffect(() => {\n    function recompute() {\n      if (!viewportRef.current) return;\n      const w = viewportRef.current.clientWidth;\n      const computed = Math.floor((w - gap * (itemsPerPage - 1)) / itemsPerPage);\n      setItemWidth(computed > 100 ? computed : 120);\n    }\n    recompute();\n    window.addEventListener(\"resize\", recompute);\n    return () => window.removeEventListener(\"resize\", recompute);\n  }, [itemsPerPage]);\n\n  // once films + itemWidth ready, initialize offsetIndex to middle copy\n  useEffect(() => {\n    if (films.length === 0) return;\n    // start at middle copy: films.length (first element of 2nd copy)\n    setIsAnimating(false); // no anim for initial positioning\n    setOffsetIndex(films.length);\n    // re-enable animation next tick\n    const id = setTimeout(() => setIsAnimating(true), 20);\n    return () => clearTimeout(id);\n  }, [films.length, itemWidth]);\n\n  // extended array (3 copies)\n  const extended = [...films, ...films, ...films];\n  const extendedCount = extended.length;\n  const step = itemWidth + gap;\n\n  // next / prev circular by changing offsetIndex\n  const next = () => {\n    if (films.length === 0) return;\n    setIsAnimating(true);\n    setOffsetIndex(s => s + 1);\n  };\n  const prev = () => {\n    if (films.length === 0) return;\n    setIsAnimating(true);\n    setOffsetIndex(s => s - 1);\n  };\n\n  // click dot: dot index corresponds to films index; map to middle copy\n  const handleDotClick = i => {\n    if (films.length === 0) return;\n    setIsAnimating(true);\n    setOffsetIndex(films.length + i);\n  };\n\n  // when transition ends, if we are out of middle copy range, jump back (no animation)\n  const onTrackTransitionEnd = () => {\n    if (films.length === 0) return;\n    // if offsetIndex moved beyond middle copies, normalize it\n    if (offsetIndex >= films.length * 2) {\n      // moved too far right -> jump back by one films.length\n      setIsAnimating(false);\n      setOffsetIndex(s => s - films.length);\n      // re-enable animation after DOM update\n      setTimeout(() => setIsAnimating(true), 20);\n    } else if (offsetIndex < films.length) {\n      // moved too far left -> jump forward by films.length\n      setIsAnimating(false);\n      setOffsetIndex(s => s + films.length);\n      setTimeout(() => setIsAnimating(true), 20);\n    }\n  };\n\n  // modal handling (no autoplay by default)\n  const openModalWith = link => {\n    setModalUrl(link);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    setModalUrl(\"\");\n  };\n  useEffect(() => {\n    const onKey = e => e.key === \"Escape\" && closeModal();\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  }, []);\n\n  // active dot (modulo films length)\n  const activeDot = films.length ? (offsetIndex % films.length + films.length) % films.length : 0;\n\n  // track inline style\n  const trackStyle = {\n    width: `${extendedCount * step}px`,\n    transform: `translateX(-${offsetIndex * step}px)`,\n    transition: isAnimating ? \"transform 0.45s cubic-bezier(.22,.9,.18,1)\" : \"none\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"movie-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"movie-list-title\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"movie-list-title-inner\",\n        children: \"PHIM \\u0110ANG CHI\\u1EBEU\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"movielist arrow left\",\n      onClick: prev,\n      \"aria-label\": \"Prev\",\n      children: /*#__PURE__*/_jsxDEV(FaChevronLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"movielist arrow right\",\n      onClick: next,\n      \"aria-label\": \"Next\",\n      children: /*#__PURE__*/_jsxDEV(FaChevronRight, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-slider-viewport\",\n      ref: viewportRef,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-track\",\n        ref: trackRef,\n        style: trackStyle,\n        onTransitionEnd: onTrackTransitionEnd,\n        children: extended.map((film, idx) => {\n          // if films empty, render empty slot\n          if (!film) return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"movie-card movie-card--empty\",\n            style: {\n              width: itemWidth\n            }\n          }, `empty-${idx}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this);\n          return /*#__PURE__*/_jsxDEV(\"article\", {\n            className: \"movie-card\",\n            style: {\n              width: `${itemWidth}px`,\n              minWidth: `${itemWidth}px`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"movie-poster-attach\",\n              src: require(`../../assets/images/hot.png`)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"poster-wrapper\",\n              onClick: () => window.location.href = `/film/${film.ID}`,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"movie-poster\",\n                alt: film.name,\n                src: require(`../../assets/images/Film/${film.ID}.jpg`)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-overlay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"overlay-buttons\",\n                children: [film.link && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn play\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    openModalWith(film.link);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn buy\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    window.location.href = `/film/${film.ID}/buy`;\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaTicketAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"buy-text\",\n                    children: \"MUA V\\xC9 NGAY\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"movie-name\",\n              title: film.name,\n              children: film.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"movie-type\",\n              children: [\"Th\\u1EC3 lo\\u1EA1i: \", film.type]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this)]\n          }, `${film.ID}-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousel-dots\",\n      children: films.map((_, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `dot ${idx === activeDot ? \"active\" : \"\"}`,\n        onClick: () => handleDotClick(idx),\n        \"aria-label\": `Go to ${idx + 1}`\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-modal-overlay\",\n      onMouseDown: e => {\n        if (e.target.classList.contains(\"video-modal-overlay\")) closeModal();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-wrapper\",\n          children: modalUrl.includes(\"youtube.com\") || modalUrl.includes(\"youtu.be\") ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n            title: \"Trailer\",\n            src: convertYoutubeToEmbed(modalUrl, false) // autoplay=false\n            ,\n            frameBorder: \"0\",\n            allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"iframe\", {\n            title: \"Trailer\",\n            src: modalUrl,\n            frameBorder: \"0\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}\n\n// convert youtube url -> embed, autoplay optional\n_s(MovieList, \"RQUtfZyzNNPEysCpC6VKPlWZbc4=\");\n_c = MovieList;\nfunction convertYoutubeToEmbed(url, autoplay = false) {\n  try {\n    const u = new URL(url);\n    let id = \"\";\n    if (u.hostname.includes(\"youtu.be\")) id = u.pathname.slice(1);else id = u.searchParams.get(\"v\");\n    if (!id) return url;\n    return `https://www.youtube.com/embed/${id}?rel=0${autoplay ? \"&autoplay=1\" : \"\"}`;\n  } catch {\n    return url;\n  }\n}\nexport default MovieList;\nvar _c;\n$RefreshReg$(_c, \"MovieList\");","map":{"version":3,"names":["React","useEffect","useState","useRef","FaPlay","FaTicketAlt","FaChevronLeft","FaChevronRight","FaTimes","jsxDEV","_jsxDEV","MovieList","_s","films","setFilms","offsetIndex","setOffsetIndex","isAnimating","setIsAnimating","showModal","setShowModal","modalUrl","setModalUrl","viewportRef","trackRef","itemsPerPage","gap","itemWidth","setItemWidth","fetch","then","r","json","data","catch","e","console","error","recompute","current","w","clientWidth","computed","Math","floor","window","addEventListener","removeEventListener","length","id","setTimeout","clearTimeout","extended","extendedCount","step","next","s","prev","handleDotClick","i","onTrackTransitionEnd","openModalWith","link","closeModal","onKey","key","activeDot","trackStyle","width","transform","transition","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","style","onTransitionEnd","map","film","idx","minWidth","src","require","location","href","ID","alt","name","stopPropagation","title","type","_","onMouseDown","target","classList","contains","includes","convertYoutubeToEmbed","frameBorder","allow","allowFullScreen","_c","url","autoplay","u","URL","hostname","pathname","slice","searchParams","get","$RefreshReg$"],"sources":["D:/MyFolder/VisualStudioCode/Project/Web/bccinema/frontend/src/components/MovieList/MovieList.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"./MovieList.css\";\r\nimport {\r\n  FaPlay,\r\n  FaTicketAlt,\r\n  FaChevronLeft,\r\n  FaChevronRight,\r\n  FaTimes,\r\n} from \"react-icons/fa\";\r\n\r\nfunction MovieList() {\r\n  const [films, setFilms] = useState([]);\r\n  const [offsetIndex, setOffsetIndex] = useState(0); // index inside extended array\r\n  const [isAnimating, setIsAnimating] = useState(true); // control css transition on track\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalUrl, setModalUrl] = useState(\"\");\r\n  const viewportRef = useRef(null);\r\n  const trackRef = useRef(null);\r\n\r\n  const itemsPerPage = 5;\r\n  const gap = 20; // must match .movie-track { gap: 20px; }\r\n  const [itemWidth, setItemWidth] = useState(220);\r\n\r\n  // load films\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/films\")\r\n      .then((r) => r.json())\r\n      .then((data) => setFilms(data || []))\r\n      .catch((e) => console.error(e));\r\n  }, []);\r\n\r\n  // compute itemWidth based on viewport and gap\r\n  useEffect(() => {\r\n    function recompute() {\r\n      if (!viewportRef.current) return;\r\n      const w = viewportRef.current.clientWidth;\r\n      const computed = Math.floor(\r\n        (w - gap * (itemsPerPage - 1)) / itemsPerPage\r\n      );\r\n      setItemWidth(computed > 100 ? computed : 120);\r\n    }\r\n    recompute();\r\n    window.addEventListener(\"resize\", recompute);\r\n    return () => window.removeEventListener(\"resize\", recompute);\r\n  }, [itemsPerPage]);\r\n\r\n  // once films + itemWidth ready, initialize offsetIndex to middle copy\r\n  useEffect(() => {\r\n    if (films.length === 0) return;\r\n    // start at middle copy: films.length (first element of 2nd copy)\r\n    setIsAnimating(false); // no anim for initial positioning\r\n    setOffsetIndex(films.length);\r\n    // re-enable animation next tick\r\n    const id = setTimeout(() => setIsAnimating(true), 20);\r\n    return () => clearTimeout(id);\r\n  }, [films.length, itemWidth]);\r\n\r\n  // extended array (3 copies)\r\n  const extended = [...films, ...films, ...films];\r\n  const extendedCount = extended.length;\r\n  const step = itemWidth + gap;\r\n\r\n  // next / prev circular by changing offsetIndex\r\n  const next = () => {\r\n    if (films.length === 0) return;\r\n    setIsAnimating(true);\r\n    setOffsetIndex((s) => s + 1);\r\n  };\r\n  const prev = () => {\r\n    if (films.length === 0) return;\r\n    setIsAnimating(true);\r\n    setOffsetIndex((s) => s - 1);\r\n  };\r\n\r\n  // click dot: dot index corresponds to films index; map to middle copy\r\n  const handleDotClick = (i) => {\r\n    if (films.length === 0) return;\r\n    setIsAnimating(true);\r\n    setOffsetIndex(films.length + i);\r\n  };\r\n\r\n  // when transition ends, if we are out of middle copy range, jump back (no animation)\r\n  const onTrackTransitionEnd = () => {\r\n    if (films.length === 0) return;\r\n    // if offsetIndex moved beyond middle copies, normalize it\r\n    if (offsetIndex >= films.length * 2) {\r\n      // moved too far right -> jump back by one films.length\r\n      setIsAnimating(false);\r\n      setOffsetIndex((s) => s - films.length);\r\n      // re-enable animation after DOM update\r\n      setTimeout(() => setIsAnimating(true), 20);\r\n    } else if (offsetIndex < films.length) {\r\n      // moved too far left -> jump forward by films.length\r\n      setIsAnimating(false);\r\n      setOffsetIndex((s) => s + films.length);\r\n      setTimeout(() => setIsAnimating(true), 20);\r\n    }\r\n  };\r\n\r\n  // modal handling (no autoplay by default)\r\n  const openModalWith = (link) => {\r\n    setModalUrl(link);\r\n    setShowModal(true);\r\n  };\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setModalUrl(\"\");\r\n  };\r\n  useEffect(() => {\r\n    const onKey = (e) => e.key === \"Escape\" && closeModal();\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, []);\r\n\r\n  // active dot (modulo films length)\r\n  const activeDot = films.length\r\n    ? ((offsetIndex % films.length) + films.length) % films.length\r\n    : 0;\r\n\r\n  // track inline style\r\n  const trackStyle = {\r\n    width: `${extendedCount * step}px`,\r\n    transform: `translateX(-${offsetIndex * step}px)`,\r\n    transition: isAnimating\r\n      ? \"transform 0.45s cubic-bezier(.22,.9,.18,1)\"\r\n      : \"none\",\r\n  };\r\n\r\n  return (\r\n    <section className=\"movie-list-container\">\r\n      <h2 className=\"movie-list-title\">\r\n        <span className=\"movie-list-title-inner\">PHIM ĐANG CHIẾU</span>\r\n      </h2>\r\n\r\n      <button className=\"movielist arrow left\" onClick={prev} aria-label=\"Prev\">\r\n        <FaChevronLeft />\r\n      </button>\r\n      <button\r\n        className=\"movielist arrow right\"\r\n        onClick={next}\r\n        aria-label=\"Next\"\r\n      >\r\n        <FaChevronRight />\r\n      </button>\r\n\r\n      <div className=\"movie-slider-viewport\" ref={viewportRef}>\r\n        <div\r\n          className=\"movie-track\"\r\n          ref={trackRef}\r\n          style={trackStyle}\r\n          onTransitionEnd={onTrackTransitionEnd}\r\n        >\r\n          {extended.map((film, idx) => {\r\n            // if films empty, render empty slot\r\n            if (!film)\r\n              return (\r\n                <div\r\n                  key={`empty-${idx}`}\r\n                  className=\"movie-card movie-card--empty\"\r\n                  style={{ width: itemWidth }}\r\n                />\r\n              );\r\n            return (\r\n              <article\r\n                key={`${film.ID}-${idx}`}\r\n                className=\"movie-card\"\r\n                style={{ width: `${itemWidth}px`, minWidth: `${itemWidth}px` }}\r\n              >\r\n                <img\r\n                  className=\"movie-poster-attach\"\r\n                  src={require(`../../assets/images/hot.png`)}\r\n                />\r\n                <div\r\n                  className=\"poster-wrapper\"\r\n                  onClick={() => (window.location.href = `/film/${film.ID}`)}\r\n                >\r\n                  <img\r\n                    className=\"movie-poster\"\r\n                    alt={film.name}\r\n                    src={require(`../../assets/images/Film/${film.ID}.jpg`)}\r\n                  />\r\n                  <div className=\"card-overlay\" />\r\n                  <div className=\"overlay-buttons\">\r\n                    {film.link && (\r\n                      <button\r\n                        className=\"btn play\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          openModalWith(film.link);\r\n                        }}\r\n                      >\r\n                        <FaPlay />\r\n                      </button>\r\n                    )}\r\n                    <button\r\n                      className=\"btn buy\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        window.location.href = `/film/${film.ID}/buy`;\r\n                      }}\r\n                    >\r\n                      <FaTicketAlt />\r\n                      <span className=\"buy-text\">MUA VÉ NGAY</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <h3 className=\"movie-name\" title={film.name}>\r\n                  {film.name}\r\n                </h3>\r\n                <p className=\"movie-type\">Thể loại: {film.type}</p>\r\n              </article>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"carousel-dots\">\r\n        {films.map((_, idx) => (\r\n          <button\r\n            key={idx}\r\n            className={`dot ${idx === activeDot ? \"active\" : \"\"}`}\r\n            onClick={() => handleDotClick(idx)}\r\n            aria-label={`Go to ${idx + 1}`}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div\r\n          className=\"video-modal-overlay\"\r\n          onMouseDown={(e) => {\r\n            if (e.target.classList.contains(\"video-modal-overlay\"))\r\n              closeModal();\r\n          }}\r\n        >\r\n          <div className=\"video-modal\">\r\n            <div className=\"video-wrapper\">\r\n              {/* note: no autoplay in embed URL so it won't auto-play */}\r\n              {modalUrl.includes(\"youtube.com\") ||\r\n              modalUrl.includes(\"youtu.be\") ? (\r\n                <iframe\r\n                  title=\"Trailer\"\r\n                  src={convertYoutubeToEmbed(modalUrl, false)} // autoplay=false\r\n                  frameBorder=\"0\"\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                />\r\n              ) : (\r\n                <iframe\r\n                  title=\"Trailer\"\r\n                  src={modalUrl}\r\n                  frameBorder=\"0\"\r\n                  allowFullScreen\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\n// convert youtube url -> embed, autoplay optional\r\nfunction convertYoutubeToEmbed(url, autoplay = false) {\r\n  try {\r\n    const u = new URL(url);\r\n    let id = \"\";\r\n    if (u.hostname.includes(\"youtu.be\")) id = u.pathname.slice(1);\r\n    else id = u.searchParams.get(\"v\");\r\n    if (!id) return url;\r\n    return `https://www.youtube.com/embed/${id}?rel=0${\r\n      autoplay ? \"&autoplay=1\" : \"\"\r\n    }`;\r\n  } catch {\r\n    return url;\r\n  }\r\n}\r\n\r\nexport default MovieList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}