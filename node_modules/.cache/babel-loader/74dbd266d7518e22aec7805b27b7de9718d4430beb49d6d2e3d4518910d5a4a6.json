{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyFolder\\\\VisualStudioCode\\\\Project\\\\Web\\\\bccinema\\\\frontend\\\\src\\\\components\\\\MovieList\\\\MovieList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport \"./MovieList.css\";\nimport { FaPlay, FaTicketAlt, FaChevronLeft, FaChevronRight, FaTimes } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MovieList() {\n  _s();\n  const [films, setFilms] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0); // index of first visible film\n  const [showModal, setShowModal] = useState(false);\n  const [modalUrl, setModalUrl] = useState(\"\");\n  const viewportRef = useRef(null);\n  const [itemWidth, setItemWidth] = useState(220); // px fallback\n  const itemsPerPage = 5;\n  useEffect(() => {\n    fetch(\"http://localhost:5000/films\").then(res => res.json()).then(data => setFilms(data)).catch(err => console.error(\"Lỗi fetch films:\", err));\n  }, []);\n\n  // compute itemWidth based on viewport width\n  useEffect(() => {\n    function recompute() {\n      if (viewportRef.current) {\n        const w = viewportRef.current.clientWidth;\n        const gap = 20; // trùng với CSS\n        const computed = Math.floor((w - gap * (itemsPerPage - 1)) / itemsPerPage);\n        setItemWidth(computed);\n      }\n    }\n    recompute();\n    window.addEventListener(\"resize\", recompute);\n    return () => window.removeEventListener(\"resize\", recompute);\n  }, [itemsPerPage]);\n  const maxIndex = Math.max(0, films.length - itemsPerPage);\n  const prev = () => {\n    setCurrentIndex(prev => prev - 1 < 0 ? films.length - 1 : prev - 1);\n  };\n  const next = () => {\n    setCurrentIndex(prev => prev + 1 >= films.length ? 0 : prev + 1);\n  };\n  const openModal = link => {\n    setModalUrl(link);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    setModalUrl(\"\");\n  };\n  useEffect(() => {\n    const onKey = e => {\n      if (e.key === \"Escape\") closeModal();\n    };\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  }, []);\n\n  // when user clicks a dot (dot index corresponds to film index),\n  // clamp so the first visible film cannot exceed maxIndex\n  const handleDotClick = i => {\n    setCurrentIndex(Math.min(Math.max(0, i), maxIndex));\n  };\n\n  // style for track: width = itemWidth * films.length, translateX = -currentIndex * itemWidth px\n  const gap = 20; // đúng bằng gap trong CSS .movie-track\n  const trackStyle = {\n    width: `${films.length * (itemWidth + gap)}px`,\n    transform: `translateX(-${currentIndex * (itemWidth + gap)}px)`\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"movie-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"movie-list-title\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"movie-list-title-inner\",\n        children: \"\\uD83C\\uDFAC PHIM \\u0110ANG CHI\\u1EBEU\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"arrow left\",\n      onClick: prev,\n      \"aria-label\": \"Prev\",\n      children: /*#__PURE__*/_jsxDEV(FaChevronLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"arrow right\",\n      onClick: next,\n      \"aria-label\": \"Next\",\n      children: /*#__PURE__*/_jsxDEV(FaChevronRight, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-slider-viewport\",\n      ref: viewportRef,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-track\",\n        style: trackStyle,\n        children: films.map(film => /*#__PURE__*/_jsxDEV(\"article\", {\n          className: \"movie-card\",\n          style: {\n            width: `${itemWidth}px`,\n            minWidth: `${itemWidth}px`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"poster-wrapper\",\n            onClick: () => window.location.href = `/film/${film.ID}`,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"movie-poster\",\n              alt: film.name,\n              src: require(`../../assets/images/Film/${film.ID}.jpg`)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-overlay\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overlay-buttons\",\n              children: [film.link && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn play\",\n                onClick: e => {\n                  e.stopPropagation();\n                  openModal(film.link);\n                },\n                children: /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn buy\",\n                onClick: e => {\n                  e.stopPropagation();\n                  window.location.href = `/film/${film.ID}/buy`;\n                },\n                children: [/*#__PURE__*/_jsxDEV(FaTicketAlt, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"buy-text\",\n                  children: \"MUA V\\xC9 NGAY\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"movie-name\",\n            title: film.name,\n            children: film.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"movie-type\",\n            children: [\"Th\\u1EC3 lo\\u1EA1i: \", film.type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)]\n        }, film.ID, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousel-dots\",\n      children: films.map((_, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `dot ${idx === currentIndex ? \"active\" : \"\"}`,\n        onClick: () => handleDotClick(idx),\n        \"aria-label\": `Go to ${idx + 1}`\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-modal-overlay\",\n      onMouseDown: e => {\n        if (e.target.classList.contains(\"video-modal-overlay\")) closeModal();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"modal-close\",\n          onClick: closeModal,\n          \"aria-label\": \"Close\",\n          children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-wrapper\",\n          children: modalUrl.includes(\"youtube.com\") || modalUrl.includes(\"youtu.be\") ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n            title: \"Trailer\",\n            src: convertYoutubeToEmbed(modalUrl),\n            frameBorder: \"0\",\n            allow: \"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"iframe\", {\n            title: \"Trailer\",\n            src: modalUrl,\n            frameBorder: \"0\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieList, \"dOf9oaP/1ALFbA3KhhIP0ZxhkmY=\");\n_c = MovieList;\nfunction convertYoutubeToEmbed(url) {\n  try {\n    const u = new URL(url);\n    let id = \"\";\n    if (u.hostname.includes(\"youtu.be\")) {\n      id = u.pathname.slice(1);\n    } else {\n      id = u.searchParams.get(\"v\");\n    }\n    if (!id) return url;\n    return `https://www.youtube.com/embed/${id}?rel=0&autoplay=1`;\n  } catch {\n    return url;\n  }\n}\nexport default MovieList;\nvar _c;\n$RefreshReg$(_c, \"MovieList\");","map":{"version":3,"names":["React","useEffect","useState","useRef","FaPlay","FaTicketAlt","FaChevronLeft","FaChevronRight","FaTimes","jsxDEV","_jsxDEV","MovieList","_s","films","setFilms","currentIndex","setCurrentIndex","showModal","setShowModal","modalUrl","setModalUrl","viewportRef","itemWidth","setItemWidth","itemsPerPage","fetch","then","res","json","data","catch","err","console","error","recompute","current","w","clientWidth","gap","computed","Math","floor","window","addEventListener","removeEventListener","maxIndex","max","length","prev","next","openModal","link","closeModal","onKey","e","key","handleDotClick","i","min","trackStyle","width","transform","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","style","map","film","minWidth","location","href","ID","alt","name","src","require","stopPropagation","title","type","_","idx","onMouseDown","target","classList","contains","includes","convertYoutubeToEmbed","frameBorder","allow","allowFullScreen","_c","url","u","URL","id","hostname","pathname","slice","searchParams","get","$RefreshReg$"],"sources":["D:/MyFolder/VisualStudioCode/Project/Web/bccinema/frontend/src/components/MovieList/MovieList.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"./MovieList.css\";\r\nimport {\r\n  FaPlay,\r\n  FaTicketAlt,\r\n  FaChevronLeft,\r\n  FaChevronRight,\r\n  FaTimes,\r\n} from \"react-icons/fa\";\r\n\r\nfunction MovieList() {\r\n  const [films, setFilms] = useState([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0); // index of first visible film\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalUrl, setModalUrl] = useState(\"\");\r\n  const viewportRef = useRef(null);\r\n  const [itemWidth, setItemWidth] = useState(220); // px fallback\r\n  const itemsPerPage = 5;\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/films\")\r\n      .then((res) => res.json())\r\n      .then((data) => setFilms(data))\r\n      .catch((err) => console.error(\"Lỗi fetch films:\", err));\r\n  }, []);\r\n\r\n  // compute itemWidth based on viewport width\r\n  useEffect(() => {\r\n    function recompute() {\r\n      if (viewportRef.current) {\r\n        const w = viewportRef.current.clientWidth;\r\n        const gap = 20; // trùng với CSS\r\n        const computed = Math.floor(\r\n          (w - gap * (itemsPerPage - 1)) / itemsPerPage\r\n        );\r\n        setItemWidth(computed);\r\n      }\r\n    }\r\n    recompute();\r\n    window.addEventListener(\"resize\", recompute);\r\n    return () => window.removeEventListener(\"resize\", recompute);\r\n  }, [itemsPerPage]);\r\n\r\n  const maxIndex = Math.max(0, films.length - itemsPerPage);\r\n\r\n  const prev = () => {\r\n    setCurrentIndex((prev) => (prev - 1 < 0 ? films.length - 1 : prev - 1));\r\n  };\r\n  const next = () => {\r\n    setCurrentIndex((prev) => (prev + 1 >= films.length ? 0 : prev + 1));\r\n  };\r\n\r\n  const openModal = (link) => {\r\n    setModalUrl(link);\r\n    setShowModal(true);\r\n  };\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setModalUrl(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onKey = (e) => {\r\n      if (e.key === \"Escape\") closeModal();\r\n    };\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, []);\r\n\r\n  // when user clicks a dot (dot index corresponds to film index),\r\n  // clamp so the first visible film cannot exceed maxIndex\r\n  const handleDotClick = (i) => {\r\n    setCurrentIndex(Math.min(Math.max(0, i), maxIndex));\r\n  };\r\n\r\n  // style for track: width = itemWidth * films.length, translateX = -currentIndex * itemWidth px\r\n  const gap = 20; // đúng bằng gap trong CSS .movie-track\r\n  const trackStyle = {\r\n    width: `${films.length * (itemWidth + gap)}px`,\r\n    transform: `translateX(-${currentIndex * (itemWidth + gap)}px)`,\r\n  };\r\n\r\n  return (\r\n    <section className=\"movie-list-container\">\r\n      <h2 className=\"movie-list-title\">\r\n        <span className=\"movie-list-title-inner\">🎬 PHIM ĐANG CHIẾU</span>\r\n      </h2>\r\n\r\n      <button className=\"arrow left\" onClick={prev} aria-label=\"Prev\">\r\n        <FaChevronLeft />\r\n      </button>\r\n      <button className=\"arrow right\" onClick={next} aria-label=\"Next\">\r\n        <FaChevronRight />\r\n      </button>\r\n\r\n      <div className=\"movie-slider-viewport\" ref={viewportRef}>\r\n        <div className=\"movie-track\" style={trackStyle}>\r\n          {films.map((film) => (\r\n            <article\r\n              key={film.ID}\r\n              className=\"movie-card\"\r\n              style={{ width: `${itemWidth}px`, minWidth: `${itemWidth}px` }}\r\n            >\r\n              <div\r\n                className=\"poster-wrapper\"\r\n                onClick={() => (window.location.href = `/film/${film.ID}`)}\r\n              >\r\n                <img\r\n                  className=\"movie-poster\"\r\n                  alt={film.name}\r\n                  src={require(`../../assets/images/Film/${film.ID}.jpg`)}\r\n                />\r\n                <div className=\"card-overlay\" />\r\n                <div className=\"overlay-buttons\">\r\n                  {film.link && (\r\n                    <button\r\n                      className=\"btn play\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        openModal(film.link);\r\n                      }}\r\n                    >\r\n                      <FaPlay />\r\n                    </button>\r\n                  )}\r\n                  <button\r\n                    className=\"btn buy\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      window.location.href = `/film/${film.ID}/buy`;\r\n                    }}\r\n                  >\r\n                    <FaTicketAlt />\r\n                    <span className=\"buy-text\">MUA VÉ NGAY</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <h3 className=\"movie-name\" title={film.name}>\r\n                {film.name}\r\n              </h3>\r\n              <p className=\"movie-type\">Thể loại: {film.type}</p>\r\n            </article>\r\n          ))}\r\n\r\n          {/* preserve layout: if fewer items than itemsPerPage we may still keep track width ok */}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"carousel-dots\">\r\n        {films.map((_, idx) => (\r\n          <button\r\n            key={idx}\r\n            className={`dot ${idx === currentIndex ? \"active\" : \"\"}`}\r\n            onClick={() => handleDotClick(idx)}\r\n            aria-label={`Go to ${idx + 1}`}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div\r\n          className=\"video-modal-overlay\"\r\n          onMouseDown={(e) => {\r\n            if (e.target.classList.contains(\"video-modal-overlay\"))\r\n              closeModal();\r\n          }}\r\n        >\r\n          <div className=\"video-modal\">\r\n            <button\r\n              className=\"modal-close\"\r\n              onClick={closeModal}\r\n              aria-label=\"Close\"\r\n            >\r\n              <FaTimes />\r\n            </button>\r\n            <div className=\"video-wrapper\">\r\n              {modalUrl.includes(\"youtube.com\") ||\r\n              modalUrl.includes(\"youtu.be\") ? (\r\n                <iframe\r\n                  title=\"Trailer\"\r\n                  src={convertYoutubeToEmbed(modalUrl)}\r\n                  frameBorder=\"0\"\r\n                  allow=\"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                />\r\n              ) : (\r\n                <iframe\r\n                  title=\"Trailer\"\r\n                  src={modalUrl}\r\n                  frameBorder=\"0\"\r\n                  allowFullScreen\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction convertYoutubeToEmbed(url) {\r\n  try {\r\n    const u = new URL(url);\r\n    let id = \"\";\r\n    if (u.hostname.includes(\"youtu.be\")) {\r\n      id = u.pathname.slice(1);\r\n    } else {\r\n      id = u.searchParams.get(\"v\");\r\n    }\r\n    if (!id) return url;\r\n    return `https://www.youtube.com/embed/${id}?rel=0&autoplay=1`;\r\n  } catch {\r\n    return url;\r\n  }\r\n}\r\n\r\nexport default MovieList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}