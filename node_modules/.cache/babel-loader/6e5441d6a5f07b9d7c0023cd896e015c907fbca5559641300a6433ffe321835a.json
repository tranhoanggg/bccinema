{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyFolder\\\\VisualStudioCode\\\\Project\\\\Web\\\\bccinema\\\\frontend\\\\src\\\\components\\\\IncomingMovieListCopy\\\\IncomingMovieList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport \"./IncomingMovieList.css\";\nimport { FaPlay, FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport { gsap } from \"gsap\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction IncomingMovieList() {\n  _s();\n  const [films, setIncomings] = useState([]);\n  const [offsetIndex, setOffsetIndex] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [modalUrl, setModalUrl] = useState(\"\");\n  const viewportRef = useRef(null);\n  const trackRef = useRef(null);\n  const itemsPerPage = 5;\n  const gap = 20;\n  const [itemWidth, setItemWidth] = useState(220);\n\n  // load films\n  useEffect(() => {\n    fetch(\"http://localhost:5000/incoming\").then(r => r.json()).then(data => setIncomings(data || [])).catch(e => console.error(e));\n  }, []);\n\n  // compute itemWidth based on viewport and gap\n  useEffect(() => {\n    function recompute() {\n      if (!viewportRef.current) return;\n      const w = viewportRef.current.clientWidth;\n      const computed = Math.floor((w - gap * (itemsPerPage - 1)) / itemsPerPage);\n      setItemWidth(computed > 100 ? computed : 120);\n    }\n    recompute();\n    window.addEventListener(\"resize\", recompute);\n    return () => window.removeEventListener(\"resize\", recompute);\n  }, [itemsPerPage]);\n\n  // once films ready, init offsetIndex = films.length\n  useEffect(() => {\n    if (films.length === 0) return;\n    setOffsetIndex(films.length);\n  }, [films.length]);\n  const extended = [...films, ...films, ...films];\n  const step = itemWidth + gap;\n\n  // animate track when offsetIndex changes\n  useEffect(() => {\n    if (!trackRef.current) return;\n    const x = -offsetIndex * step;\n    gsap.to(trackRef.current, {\n      x,\n      duration: 0.5,\n      ease: \"power3.inOut\",\n      onComplete: () => {\n        if (films.length === 0) return;\n        // reset vị trí khi vượt range\n        if (offsetIndex >= films.length * 2) {\n          setOffsetIndex(s => s - films.length);\n        } else if (offsetIndex < films.length) {\n          setOffsetIndex(s => s + films.length);\n        }\n      }\n    });\n  }, [offsetIndex, step, films.length]);\n  const next = () => films.length && setOffsetIndex(s => s + 1);\n  const prev = () => films.length && setOffsetIndex(s => s - 1);\n  const handleDotClick = i => films.length && setOffsetIndex(films.length + i);\n\n  // modal\n  const openModalWith = link => {\n    setModalUrl(link);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    setModalUrl(\"\");\n  };\n  useEffect(() => {\n    const onKey = e => e.key === \"Escape\" && closeModal();\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  }, []);\n  const activeDot = films.length ? (offsetIndex % films.length + films.length) % films.length : 0;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"incoming-movie-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"incoming-movie-list-title\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"incoming-movie-list-title-inner\",\n        children: \"PHIM S\\u1EAEP CHI\\u1EBEU\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"incomingmovielist arrow left\",\n      onClick: prev,\n      children: /*#__PURE__*/_jsxDEV(FaChevronLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"incomingmovielist arrow right\",\n      onClick: next,\n      children: /*#__PURE__*/_jsxDEV(FaChevronRight, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"incoming-movie-slider-viewport\",\n      ref: viewportRef,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"incoming-movie-track\",\n        ref: trackRef,\n        children: extended.map((film, idx) => /*#__PURE__*/_jsxDEV(\"article\", {\n          className: \"incoming-movie-card\",\n          style: {\n            width: `${itemWidth}px`,\n            minWidth: `${itemWidth}px`\n          },\n          children: film ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"incoming-poster-wrapper\",\n              onClick: () => window.location.href = `/film/${film.ID}`,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"incoming-movie-poster\",\n                alt: film.name,\n                src: require(`../../assets/images/Incoming/${film.ID}.jpg`)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-overlay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"overlay-buttons\",\n                children: film.link && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn play\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    openModalWith(film.link);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"incoming-movie-name\",\n              children: film.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"incoming-movie-type\",\n              children: [\"Th\\u1EC3 lo\\u1EA1i: \", film.type]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"incoming-movie-card incoming-movie-card--empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 17\n          }, this)\n        }, `${(film === null || film === void 0 ? void 0 : film.ID) || \"empty\"}-${idx}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"incomingmovielist carousel-dots\",\n      children: films.map((_, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `incomingmovielist dot ${idx === activeDot ? \"active\" : \"\"}`,\n        onClick: () => handleDotClick(idx)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-modal-overlay\",\n      onMouseDown: e => {\n        if (e.target.classList.contains(\"video-modal-overlay\")) closeModal();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-wrapper\",\n          children: modalUrl.includes(\"youtube.com\") || modalUrl.includes(\"youtu.be\") ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n            title: \"Trailer\",\n            src: convertYoutubeToEmbed(modalUrl, false),\n            frameBorder: \"0\",\n            allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"iframe\", {\n            title: \"Trailer\",\n            src: modalUrl,\n            frameBorder: \"0\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n\n// convert youtube url -> embed\n_s(IncomingMovieList, \"+vslCSdmn63lI5g+S1tN2ID/O2A=\");\n_c = IncomingMovieList;\nfunction convertYoutubeToEmbed(url, autoplay = false) {\n  try {\n    const u = new URL(url);\n    let id = \"\";\n    if (u.hostname.includes(\"youtu.be\")) id = u.pathname.slice(1);else id = u.searchParams.get(\"v\");\n    if (!id) return url;\n    return `https://www.youtube.com/embed/${id}?rel=0${autoplay ? \"&autoplay=1\" : \"\"}`;\n  } catch {\n    return url;\n  }\n}\nexport default IncomingMovieList;\nvar _c;\n$RefreshReg$(_c, \"IncomingMovieList\");","map":{"version":3,"names":["React","useEffect","useState","useRef","FaPlay","FaChevronLeft","FaChevronRight","gsap","jsxDEV","_jsxDEV","Fragment","_Fragment","IncomingMovieList","_s","films","setIncomings","offsetIndex","setOffsetIndex","showModal","setShowModal","modalUrl","setModalUrl","viewportRef","trackRef","itemsPerPage","gap","itemWidth","setItemWidth","fetch","then","r","json","data","catch","e","console","error","recompute","current","w","clientWidth","computed","Math","floor","window","addEventListener","removeEventListener","length","extended","step","x","to","duration","ease","onComplete","s","next","prev","handleDotClick","i","openModalWith","link","closeModal","onKey","key","activeDot","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","map","film","idx","style","width","minWidth","location","href","ID","alt","name","src","require","stopPropagation","type","_","onMouseDown","target","classList","contains","includes","title","convertYoutubeToEmbed","frameBorder","allow","allowFullScreen","_c","url","autoplay","u","URL","id","hostname","pathname","slice","searchParams","get","$RefreshReg$"],"sources":["D:/MyFolder/VisualStudioCode/Project/Web/bccinema/frontend/src/components/IncomingMovieListCopy/IncomingMovieList.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"./IncomingMovieList.css\";\r\nimport { FaPlay, FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\r\nimport { gsap } from \"gsap\";\r\n\r\nfunction IncomingMovieList() {\r\n  const [films, setIncomings] = useState([]);\r\n  const [offsetIndex, setOffsetIndex] = useState(0);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalUrl, setModalUrl] = useState(\"\");\r\n  const viewportRef = useRef(null);\r\n  const trackRef = useRef(null);\r\n\r\n  const itemsPerPage = 5;\r\n  const gap = 20;\r\n  const [itemWidth, setItemWidth] = useState(220);\r\n\r\n  // load films\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/incoming\")\r\n      .then((r) => r.json())\r\n      .then((data) => setIncomings(data || []))\r\n      .catch((e) => console.error(e));\r\n  }, []);\r\n\r\n  // compute itemWidth based on viewport and gap\r\n  useEffect(() => {\r\n    function recompute() {\r\n      if (!viewportRef.current) return;\r\n      const w = viewportRef.current.clientWidth;\r\n      const computed = Math.floor(\r\n        (w - gap * (itemsPerPage - 1)) / itemsPerPage\r\n      );\r\n      setItemWidth(computed > 100 ? computed : 120);\r\n    }\r\n    recompute();\r\n    window.addEventListener(\"resize\", recompute);\r\n    return () => window.removeEventListener(\"resize\", recompute);\r\n  }, [itemsPerPage]);\r\n\r\n  // once films ready, init offsetIndex = films.length\r\n  useEffect(() => {\r\n    if (films.length === 0) return;\r\n    setOffsetIndex(films.length);\r\n  }, [films.length]);\r\n\r\n  const extended = [...films, ...films, ...films];\r\n  const step = itemWidth + gap;\r\n\r\n  // animate track when offsetIndex changes\r\n  useEffect(() => {\r\n    if (!trackRef.current) return;\r\n    const x = -offsetIndex * step;\r\n    gsap.to(trackRef.current, {\r\n      x,\r\n      duration: 0.5,\r\n      ease: \"power3.inOut\",\r\n      onComplete: () => {\r\n        if (films.length === 0) return;\r\n        // reset vị trí khi vượt range\r\n        if (offsetIndex >= films.length * 2) {\r\n          setOffsetIndex((s) => s - films.length);\r\n        } else if (offsetIndex < films.length) {\r\n          setOffsetIndex((s) => s + films.length);\r\n        }\r\n      },\r\n    });\r\n  }, [offsetIndex, step, films.length]);\r\n\r\n  const next = () => films.length && setOffsetIndex((s) => s + 1);\r\n  const prev = () => films.length && setOffsetIndex((s) => s - 1);\r\n  const handleDotClick = (i) =>\r\n    films.length && setOffsetIndex(films.length + i);\r\n\r\n  // modal\r\n  const openModalWith = (link) => {\r\n    setModalUrl(link);\r\n    setShowModal(true);\r\n  };\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setModalUrl(\"\");\r\n  };\r\n  useEffect(() => {\r\n    const onKey = (e) => e.key === \"Escape\" && closeModal();\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, []);\r\n\r\n  const activeDot = films.length\r\n    ? ((offsetIndex % films.length) + films.length) % films.length\r\n    : 0;\r\n\r\n  return (\r\n    <section className=\"incoming-movie-list-container\">\r\n      <h2 className=\"incoming-movie-list-title\">\r\n        <span className=\"incoming-movie-list-title-inner\">PHIM SẮP CHIẾU</span>\r\n      </h2>\r\n\r\n      <button className=\"incomingmovielist arrow left\" onClick={prev}>\r\n        <FaChevronLeft />\r\n      </button>\r\n      <button className=\"incomingmovielist arrow right\" onClick={next}>\r\n        <FaChevronRight />\r\n      </button>\r\n\r\n      <div className=\"incoming-movie-slider-viewport\" ref={viewportRef}>\r\n        <div className=\"incoming-movie-track\" ref={trackRef}>\r\n          {extended.map((film, idx) => (\r\n            <article\r\n              key={`${film?.ID || \"empty\"}-${idx}`}\r\n              className=\"incoming-movie-card\"\r\n              style={{ width: `${itemWidth}px`, minWidth: `${itemWidth}px` }}\r\n            >\r\n              {film ? (\r\n                <>\r\n                  <div\r\n                    className=\"incoming-poster-wrapper\"\r\n                    onClick={() => (window.location.href = `/film/${film.ID}`)}\r\n                  >\r\n                    <img\r\n                      className=\"incoming-movie-poster\"\r\n                      alt={film.name}\r\n                      src={require(`../../assets/images/Incoming/${film.ID}.jpg`)}\r\n                    />\r\n                    <div className=\"card-overlay\" />\r\n                    <div className=\"overlay-buttons\">\r\n                      {film.link && (\r\n                        <button\r\n                          className=\"btn play\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            openModalWith(film.link);\r\n                          }}\r\n                        >\r\n                          <FaPlay />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <h3 className=\"incoming-movie-name\">{film.name}</h3>\r\n                  <p className=\"incoming-movie-type\">Thể loại: {film.type}</p>\r\n                </>\r\n              ) : (\r\n                <div className=\"incoming-movie-card incoming-movie-card--empty\" />\r\n              )}\r\n            </article>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"incomingmovielist carousel-dots\">\r\n        {films.map((_, idx) => (\r\n          <button\r\n            key={idx}\r\n            className={`incomingmovielist dot ${\r\n              idx === activeDot ? \"active\" : \"\"\r\n            }`}\r\n            onClick={() => handleDotClick(idx)}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div\r\n          className=\"video-modal-overlay\"\r\n          onMouseDown={(e) => {\r\n            if (e.target.classList.contains(\"video-modal-overlay\"))\r\n              closeModal();\r\n          }}\r\n        >\r\n          <div className=\"video-modal\">\r\n            <div className=\"video-wrapper\">\r\n              {modalUrl.includes(\"youtube.com\") ||\r\n              modalUrl.includes(\"youtu.be\") ? (\r\n                <iframe\r\n                  title=\"Trailer\"\r\n                  src={convertYoutubeToEmbed(modalUrl, false)}\r\n                  frameBorder=\"0\"\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                />\r\n              ) : (\r\n                <iframe\r\n                  title=\"Trailer\"\r\n                  src={modalUrl}\r\n                  frameBorder=\"0\"\r\n                  allowFullScreen\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\n// convert youtube url -> embed\r\nfunction convertYoutubeToEmbed(url, autoplay = false) {\r\n  try {\r\n    const u = new URL(url);\r\n    let id = \"\";\r\n    if (u.hostname.includes(\"youtu.be\")) id = u.pathname.slice(1);\r\n    else id = u.searchParams.get(\"v\");\r\n    if (!id) return url;\r\n    return `https://www.youtube.com/embed/${id}?rel=0${\r\n      autoplay ? \"&autoplay=1\" : \"\"\r\n    }`;\r\n  } catch {\r\n    return url;\r\n  }\r\n}\r\n\r\nexport default IncomingMovieList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}