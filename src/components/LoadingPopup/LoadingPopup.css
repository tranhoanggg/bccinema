/* --- Container toàn màn hình --- */
.loading-container {
  position: fixed;
  inset: 0;
  z-index: 9999;
  overflow: hidden;
  pointer-events: none; /* mặc định không chặn tương tác trang (popup chưa visible) */
}

/* --- Overlay left/right: dùng transform (translateX) để animate, tránh thay đổi left/right --- */
.overlay-left,
.overlay-right {
  position: fixed;
  top: 0;
  height: 100%;
  width: 50%;
  z-index: 1000;
  pointer-events: none;
  /* Green hacker style: deep black + neon edge */
  background: radial-gradient(circle at center, #001209 0%, #000 80%);
  box-shadow: inset 0 0 120px rgba(0, 255, 120, 0.08),
    0 0 60px rgba(0, 255, 120, 0.03);
  /* để che seam tốt hơn, cho 1 chút blur */
  backdrop-filter: blur(2px);
  will-change: transform;
  animation-fill-mode: forwards;
}

/* bắt đầu ở ngoài màn hình */
.overlay-left {
  left: 0;
  transform: translateX(-100%);
  animation: slideInLeft 900ms cubic-bezier(0.2, 0.9, 0.2, 1) forwards;
}

.overlay-right {
  right: 0;
  transform: translateX(100%);
  animation: slideInRight 900ms cubic-bezier(0.2, 0.9, 0.2, 1) forwards;
}

/* keyframes: chỉ thay đổi transform -> ổn định hơn, không động tới left/right */
@keyframes slideInLeft {
  to {
    transform: translateX(0);
  }
}
@keyframes slideInRight {
  to {
    transform: translateX(0);
  }
}

/* Khi overlayComplete = true, ta có thể ẩn hai phần này (để tránh layer lộn xộn) */
/* nhưng thực tế overlay-full sẽ che kín, nên ẩn nhẹ để tránh z-index issues */
.overlay-left.done,
.overlay-right.done {
  opacity: 0;
  transition: opacity 240ms linear;
  pointer-events: none;
}

/* --- overlay-full: khi 2 phần chạm nhau, hiện lớp này để đảm bảo không còn khe hở --- */
.overlay-full {
  position: fixed;
  inset: 0;
  z-index: 1000;
  pointer-events: auto; /* chặn phía dưới khi loading popup hiển thị */
  /* deep black with green neon depth */
  background-color: rgba(0, 0, 0, 0.95);
  background-image: radial-gradient(
    circle at 30% 20%,
    rgba(0, 40, 15, 0.88),
    rgba(0, 0, 0, 0.96)
  );
  box-shadow: inset 0 0 140px rgba(0, 255, 118, 0.04);
  opacity: 1;
}

/* --- Loading popup --- */
.loading-popup {
  position: fixed;
  left: 50%;
  top: 55%;
  transform: translate(-50%, -50%) translateY(30px);
  z-index: 1001;
  width: 380px;
  max-width: 90%;
  text-align: center;
  pointer-events: auto;
  opacity: 0;
  transition: opacity 260ms ease, transform 260ms ease;
}

/* Bật visible khi overlayComplete */
.loading-popup.visible {
  opacity: 1;
  transform: translate(-50%, -50%) translateY(0);
}

/* kiểu chữ & neon */
.loading-text {
  font-family: "Share Tech Mono", monospace;
  color: #bfffd8;
  text-shadow: 0 0 10px rgba(0, 255, 140, 0.12),
    0 0 30px rgba(0, 255, 140, 0.06);
  font-size: 1.3rem;
  margin-bottom: 14px;
  letter-spacing: 0.6px;
}

/* progress */
.progress-bar {
  margin: 0 auto;
  width: 320px;
  height: 18px;
  border-radius: 12px;
  border: 2px solid rgba(0, 255, 120, 0.9);
  overflow: hidden;
  box-shadow: 0 0 18px rgba(0, 255, 120, 0.06),
    inset 0 0 8px rgba(0, 255, 120, 0.05);
  background: rgba(0, 0, 0, 0.2);
}

.progress-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #00ff66, #66ffb3);
  box-shadow: 0 0 12px rgba(0, 255, 102, 0.6);
  transition: width 0.08s linear;
}

/* percent */
.progress-percent {
  margin-top: 10px;
  font-family: "Share Tech Mono", monospace;
  color: #7aff9a;
  text-shadow: 0 0 8px rgba(0, 255, 120, 0.08);
  font-size: 1rem;
}

/* --- nhỏ gọn cho responsive --- */
@media (max-width: 420px) {
  .progress-bar {
    width: 260px;
  }
  .loading-popup {
    width: 90%;
  }
  .loading-text {
    font-size: 1.05rem;
  }
}
